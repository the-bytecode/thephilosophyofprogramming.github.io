<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 14: Testing with Philosophical Focus</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Source+Sans+3:wght@300;400;600&family=Source+Serif+4:ital,wght@0,400;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Source Sans 3', sans-serif;
            color: #333;
            line-height: 1.6;
        }
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', serif;
        }
        .content p, .content ul, .content ol {
            font-family: 'Source Serif 4', serif;
            font-size: 1.125rem;
            margin-bottom: 1.5rem;
        }
        .content h2 {
            margin-top: 2.5rem;
            margin-bottom: 1.5rem;
        }
        .content h3 {
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        .content ul, .content ol {
            margin-left: 1.5rem;
        }
        .content ul {
            list-style-type: disc;
        }
        .content ol {
            list-style-type: decimal;
        }
        .content li {
            margin-bottom: 0.5rem;
        }
        blockquote {
            font-style: italic;
            border-left: 4px solid #8B5CF6;
            padding-left: 1.5rem;
            margin: 2rem 0;
        }
        .chapter-nav a {
            transition: all 0.3s ease;
        }
        .chapter-nav a:hover {
            transform: translateY(-2px);
        }
        .gradient-text {
            background: linear-gradient(45deg, #3B82F6, #8B5CF6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        pre {
            font-family: 'JetBrains Mono', monospace;
            background-color: #f8f9fa;
            border-radius: 0.5rem;
            padding: 1.5rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
            border: 1px solid #e2e8f0;
        }
        code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            background-color: #f1f5f9;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
        }
        pre code {
            background-color: transparent;
            padding: 0;
            font-size: 0.85rem;
            color: #1e293b;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white shadow-md py-4 sticky top-0 z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center">
                <a href="index.html" class="text-xl font-bold text-gray-800 hover:text-indigo-600 transition duration-300">
                    <i class="fas fa-book-open mr-2"></i>Philosophy of Programming
                </a>
                <div class="flex space-x-4">
                    <a href="index.html" class="text-gray-600 hover:text-indigo-600 transition duration-300">
                        <i class="fas fa-home"></i> <span class="hidden md:inline ml-1">Home</span>
                    </a>
                    <a href="conclusion.html" class="text-gray-600 hover:text-indigo-600 transition duration-300">
                        <i class="fas fa-arrow-right"></i> <span class="hidden md:inline ml-1">Conclusion</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Chapter Header -->
    <header class="bg-gradient-to-r from-blue-50 to-indigo-50 py-20 px-4">
        <div class="max-w-4xl mx-auto text-center">
            <p class="text-indigo-600 font-semibold mb-2">Chapter 14</p>
            <h1 class="text-4xl md:text-5xl font-bold mb-6">Testing with Philosophical Focus</h1>
            <p class="text-xl text-gray-600 max-w-3xl mx-auto">
                Transform testing from a verification activity to a philosophical inquiry that explores the nature of your system.
            </p>
        </div>
    </header>

    <!-- Chapter Navigation -->
    <div class="bg-white shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between py-4 chapter-nav">
                <span class="text-gray-400">
                    <i class="fas fa-book mr-2"></i>Part IV: Applied Philosophical Programming
                </span>
                <div class="flex space-x-4">
                    <a href="chapter13.html" class="text-gray-600 hover:text-indigo-600 flex items-center">
                        <i class="fas fa-arrow-left mr-1"></i> Previous: Deep JDK Understanding
                    </a>
                    <a href="conclusion.html" class="text-indigo-600 hover:text-indigo-800 flex items-center">
                        Next: Conclusion <i class="fas fa-arrow-right ml-1"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Chapter Content -->
    <main class="bg-white py-12">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 content">
            <h2 class="text-2xl font-bold" id="testing-inquiry">14.1 Testing as Philosophical Inquiry</h2>
            <p>
                Testing is often approached as a technical activity focused on finding bugs or ensuring functionality. However, from a philosophical perspective, testing is a form of inquiry that explores the nature, behavior, and boundaries of the systems we create.
            </p>
            <p>
                Just as philosophers use thought experiments to test ideas and expose contradictions, software tests are experiments that probe the behavior of our code under various conditions. This shift in perspective transforms testing from a mundane verification activity to a profound exploration of the digital realities we create.
            </p>

            <h2 class="text-2xl font-bold" id="identity-tests">14.2 Identity Tests: Verifying Immutable Core Identity</h2>
            <p>
                If a class has immutable core identity, tests should verify that this identity cannot be changed:
            </p>
            <pre><code>@Test
public void movieTitleCannotBeChanged() {
    Movie movie = new Movie("The Godfather", LocalDate.of(1972, 3, 24), Set.of(MovieGenre.DRAMA));
    
    // Verify no setter exists
    assertFalse(Arrays.stream(Movie.class.getMethods())
                    .anyMatch(method -> method.getName().equals("setTitle")));
    
    // Try to access private field using reflection (should fail)
    assertThrows(IllegalAccessException.class, () -> {
        Field titleField = Movie.class.getDeclaredField("title");
        titleField.setAccessible(true);
        titleField.set(movie, "Changed Title");
    });
}</code></pre>
            <p>
                This test doesn't just verify an implementation detail—it confirms a philosophical property of the Movie class: the immutability of its core identity. This aligns with our understanding that a movie's title is fundamental to what that movie is.
            </p>

            <h2 class="text-2xl font-bold" id="authority-tests">14.3 Authority Tests: Verifying Access Control</h2>
            <p>
                Tests should verify that only authorized entities can perform certain operations:
            </p>
            <pre><code>@Test
public void actorRemunerationIsOnlyVisibleToAuthorizedParties() {
    Actor actor = new Actor("John", "Doe", LocalDate.of(1980, 1, 1), Gender.MALE, new BigDecimal("1000000"));
    Agent authorizedAgent = new Agent("Jane", "Smith");
    Agent unauthorizedAgent = new Agent("Bob", "Johnson");
    
    // Establish relationship with authorized agent
    actor.setAgent(authorizedAgent);
    
    // Authorized agent can access remuneration
    assertEquals(new BigDecimal("1000000"), actor.getRemunerationForAgent(authorizedAgent));
    
    // Unauthorized agent cannot access remuneration
    assertThrows(UnauthorizedAccessException.class, () -> {
        actor.getRemunerationForAgent(unauthorizedAgent);
    });
}</code></pre>
            <p>
                This test verifies that the Actor class enforces proper authority boundaries for accessing sensitive information, aligning with real-world authority patterns where salary information is shared selectively based on established relationships.
            </p>

            <h2 class="text-2xl font-bold" id="invariant-tests">14.4 Invariant Tests: Verifying Consistent Properties</h2>
            <p>
                Tests should verify that class invariants are maintained throughout the object's lifecycle:
            </p>
            <pre><code>@Test
public void bankAccountBalanceNeverNegative() {
    BankAccount account = new BankAccount("123456", new Money(BigDecimal.valueOf(100), Currency.USD));
    
    // Successful withdrawal
    assertTrue(account.withdraw(new Money(BigDecimal.valueOf(50), Currency.USD)));
    assertEquals(new Money(BigDecimal.valueOf(50), Currency.USD), account.getBalance());
    
    // Attempt to withdraw more than balance
    assertFalse(account.withdraw(new Money(BigDecimal.valueOf(100), Currency.USD)));
    assertEquals(new Money(BigDecimal.valueOf(50), Currency.USD), account.getBalance());
    
    // Balance should never be negative
    Field balanceField = BankAccount.class.getDeclaredField("balance");
    balanceField.setAccessible(true);
    Money balance = (Money) balanceField.get(account);
    assertTrue(balance.getAmount().compareTo(BigDecimal.ZERO) >= 0);
}</code></pre>
            <p>
                This test verifies that the BankAccount class maintains its invariant (non-negative balance) even when invalid operations are attempted. This aligns with the philosophical understanding that certain properties of entities must remain consistent throughout their existence.
            </p>

            <h2 class="text-2xl font-bold" id="behavioral-tests">14.5 Behavioral Tests: Verifying Real-World Alignment</h2>
            <p>
                Tests should verify that objects behave according to their real-world counterparts:
            </p>
            <pre><code>@Test
public void seatCannotBeBookedTwice() {
    Seat seat = new Seat('A', 1, SeatType.STANDARD);
    
    // First booking succeeds
    assertTrue(seat.book());
    assertEquals(SeatStatus.BOOKED, seat.getStatus());
    
    // Second booking fails
    assertFalse(seat.book());
    assertEquals(SeatStatus.BOOKED, seat.getStatus());
}</code></pre>
            <p>
                This test verifies that a Seat behaves like a real-world seat in a theatre—once booked, it cannot be booked again. This alignment with real-world behavior is a key aspect of philosophical programming.
            </p>

            <h2 class="text-2xl font-bold" id="concurrent-tests">14.6 Concurrent Authority Tests</h2>
            <p>
                Tests should verify that authority boundaries are maintained even under concurrent access:
            </p>
            <pre><code>@Test
public void concurrentSeatReservationMaintainsConsistency() throws InterruptedException {
    ShowTime showTime = createShowTimeWithAvailableSeats();
    SeatCoordinate seat = new SeatCoordinate('A', 1);
    
    // Create countdown latch for synchronization
    CountDownLatch startLatch = new CountDownLatch(1);
    CountDownLatch finishLatch = new CountDownLatch(2);
    
    // Results for each thread
    AtomicBoolean result1 = new AtomicBoolean();
    AtomicBoolean result2 = new AtomicBoolean();
    
    // Create two threads trying to book the same seat
    Thread thread1 = new Thread(() -> {
        try {
            startLatch.await(); // Wait for start signal
            result1.set(showTime.reserveSeat(seat));
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        } finally {
            finishLatch.countDown();
        }
    });
    
    Thread thread2 = new Thread(() -> {
        try {
            startLatch.await(); // Wait for start signal
            result2.set(showTime.reserveSeat(seat));
        } catch (InterruptedException e) {
            Thread.currentThread().interrupt();
        } finally {
            finishLatch.countDown();
        }
    });
    
    // Start threads
    thread1.start();
    thread2.start();
    startLatch.countDown(); // Signal threads to start
    finishLatch.await(); // Wait for both threads to finish
    
    // Verify only one thread succeeded
    assertTrue(result1.get() ^ result2.get(), "Only one thread should succeed");
    assertEquals(SeatStatus.RESERVED, showTime.getSeatStatus(seat), "Seat should be reserved");
}</code></pre>
            <p>
                This test verifies that the ShowTime class maintains proper authority over seat reservation even when multiple threads attempt to reserve the same seat concurrently. This aligns with the philosophical understanding that authority boundaries must be maintained even under pressure.
            </p>

            <h2 class="text-2xl font-bold" id="substitutability-tests">14.7 Substitutability Tests</h2>
            <p>
                Tests should verify that subtypes can be substituted for their base types without changing behavior:
            </p>
            <pre><code>@Test
public void premiumUserCanBeUsedWhereUserIsExpected() {
    User regularUser = new RegularUser("user1", "password", "John", "Doe");
    User premiumUser = new PremiumUser("user2", "password", "Jane", "Smith", PremiumLevel.GOLD);
    
    UserService userService = new UserService();
    
    // Both user types should work with the service
    assertEquals("John Doe", userService.getFullName(regularUser));
    assertEquals("Jane Smith", userService.getFullName(premiumUser));
    
    // Premium user should maintain its special capabilities
    assertTrue(premiumUser instanceof PremiumUser);
    assertEquals(PremiumLevel.GOLD, ((PremiumUser) premiumUser).getPremiumLevel());
}</code></pre>
            <p>
                This test verifies that the PremiumUser subtype can be substituted for the User base type without altering behavior, while still maintaining its additional capabilities. This aligns with the Liskov Substitution Principle and the philosophical concept of subtype responsibility.
            </p>

            <h2 class="text-2xl font-bold" id="documentation-tests">14.8 Testing as Documentation</h2>
            <p>
                Tests serve as executable documentation that captures the philosophical intent of the code:
            </p>
            <pre><code>@Test
public void personNameIsImmutablePartOfIdentity() {
    // Arrange
    Person person = new Person("John", "Doe", LocalDate.of(1980, 1, 1), Gender.MALE);
    
    // Act & Assert - no method exists to change the name
    assertFalse(Arrays.stream(Person.class.getMethods())
                    .anyMatch(method -> method.getName().equals("setFirstName")));
    assertFalse(Arrays.stream(Person.class.getMethods())
                    .anyMatch(method -> method.getName().equals("setLastName")));
    
    // Assert that we can still access the name
    assertEquals("John", person.getFirstName());
    assertEquals("Doe", person.getLastName());
}</code></pre>
            <p>
                This test explicitly documents the philosophical decision that a person's name is an immutable part of their identity. Even without reading the implementation, developers can understand the design intent through this test.
            </p>

            <h2 class="text-2xl font-bold" id="testing-mindset">14.9 The Testing Mindset</h2>
            <p>
                Testing with a philosophical focus requires a shift in mindset from mere verification to deep inquiry:
            </p>
            <ol>
                <li><strong>Ask Philosophical Questions</strong>: Instead of just asking "Does it work?", ask "Does it behave according to its true nature?"</li>
                <li><strong>Test Properties, Not Just Functions</strong>: Focus on testing invariants, identity, authority boundaries, and behavioral consistency.</li>
                <li><strong>Explore Edge Cases as Boundary Tests</strong>: Edge cases aren't just technical corner cases—they're philosophical boundary tests that explore the limits of your conceptual model.</li>
                <li><strong>Use Tests to Document Intent</strong>: Tests should capture not just what the code does but why it does it that way.</li>
                <li><strong>Test at the Right Level of Abstraction</strong>: Some tests should verify technical details, while others should verify conceptual alignment with the domain.</li>
            </ol>
            <p>
                By approaching testing as a philosophical inquiry, we not only verify functionality but also ensure that our code accurately reflects the profound conceptual models of the domains we're modeling.
            </p>

            <div class="mt-12 pt-6 border-t border-gray-200">
                <blockquote class="italic text-gray-600">
                    "Tests are not just verification tools but philosophical inquiries that explore whether our digital creations faithfully represent the realities they aim to model."
                </blockquote>
            </div>

            <!-- Chapter Navigation (Bottom) -->
            <div class="mt-12 pt-6 border-t border-gray-200 flex justify-between chapter-nav">
                <a href="chapter13.html" class="text-indigo-600 hover:text-indigo-800 flex items-center">
                    <i class="fas fa-arrow-left mr-2"></i> Previous: Deep JDK Understanding
                </a>
                <a href="conclusion.html" class="text-indigo-600 hover:text-indigo-800 flex items-center">
                    Next: Conclusion: Embodying the Philosophical Mindset <i class="fas fa-arrow-right ml-2"></i>
                </a>
            </div>
        </div>
    </main>

    <!-- Related Chapters -->
    <section class="py-12 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold text-center mb-10">Continue Your Journey</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <a href="chapter13.html" class="bg-white rounded-xl shadow-md hover:shadow-xl p-6 border border-gray-100 transition duration-300 transform hover:-translate-y-1">
                    <div class="flex items-center mb-4">
                        <span class="text-indigo-600 text-lg font-semibold mr-2">Chapter 13:</span>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Deep JDK Understanding</h3>
                    <p class="text-gray-600">Study the JDK as a philosophical text that embodies design principles, trade-offs, and conceptual models.</p>
                </a>
                
                <a href="conclusion.html" class="bg-white rounded-xl shadow-md hover:shadow-xl p-6 border border-gray-100 transition duration-300 transform hover:-translate-y-1">
                    <div class="flex items-center mb-4">
                        <span class="text-indigo-600 text-lg font-semibold mr-2">Conclusion:</span>
                    </div>
                    <h3 class="text-xl font-bold mb-2">Embodying the Philosophical Mindset</h3>
                    <p class="text-gray-600">Transforming programming from a technical exercise into a form of digital philosophy that creates faithful representations of reality..</p>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-2xl font-bold mb-4">The Philosophy of Programming</h3>
                    <p class="text-gray-300 mb-4">
                        A profound approach to software development that treats programming as a philosophical discipline.
                    </p>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Chapter Navigation</h3>
                    <ul class="space-y-2">
                        <li><a href="#testing-inquiry" class="text-gray-300 hover:text-white transition">14.1 Testing as Philosophical Inquiry</a></li>
                        <li><a href="#identity-tests" class="text-gray-300 hover:text-white transition">14.2 Identity Tests: Verifying Immutable Core Identity</a></li>
                        <li><a href="#authority-tests" class="text-gray-300 hover:text-white transition">14.3 Authority Tests: Verifying Access Control</a></li>
                        <li><a href="#invariant-tests" class="text-gray-300 hover:text-white transition">14.4 Invariant Tests: Verifying Consistent Properties</a></li>
                        <li><a href="#behavioral-tests" class="text-gray-300 hover:text-white transition">14.5 Behavioral Tests: Verifying Real-World Alignment</a></li>
                        <li><a href="#concurrent-tests" class="text-gray-300 hover:text-white transition">14.6 Concurrent Authority Tests</a></li>
                        <li><a href="#substitutability-tests" class="text-gray-300 hover:text-white transition">14.7 Substitutability Tests</a></li>
                        <li><a href="#documentation-tests" class="text-gray-300 hover:text-white transition">14.8 Testing as Documentation</a></li>
                        <li><a href="#testing-mindset" class="text-gray-300 hover:text-white transition">14.9 The Testing Mindset</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-4">Navigate</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-gray-300 hover:text-white transition">Table of Contents</a></li>
                        <li><a href="chapter13.html" class="text-gray-300 hover:text-white transition">Previous Chapter</a></li>
                        <li><a href="conclusion.html" class="text-gray-300 hover:text-white transition">Next: Conclusion</a></li>
                    </ul>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2023 The Philosophy of Programming. All rights reserved.</p>
            </div>
        </div>
    </footer>
</body>
</html>